---
description: How to make Gantt Charts in ggplot2 with Plotly.
name: Gantt Charts
permalink: ggplot2/gantt/
thumnail_github: gantt.png
layout: base
language: ggplot2
display_as: basic
page_type: u-guide
order: 9
output:
  html_document:
    keep_md: true
---



## Gantt chart



``` r
library(plotly)
require(reshape2)
require(ggplot2)


tasks <- c("Write introduction", "Parse citation data",
           "Construct data timeline",
           "Write methods", "Model formulation", 
           "Model selection", "Write results", "Write discussion",
           "Write abstract and editing",
           
           "Write introduction", "Write introduction", "Write results")

# Compile dataframe of task names, and respective start and end dates.
dfr <- data.frame(
  name = factor(tasks, levels = tasks[1:9]),
  start.date = as.Date(c("2018-04-09", "2018-04-09", "2018-04-16",
                         "2018-04-30", "2018-04-16", "2018-05-21",
                         "2018-06-04", "2018-07-02", "2018-07-30",
                         
                         "2018-05-15", "2018-06-03", "2018-07-25"
                         )),
  end.date = as.Date(c("2018-04-30", "2018-04-20", "2018-05-18",
                       "2018-06-01", "2018-05-18", "2018-06-01",
                       "2018-06-29", "2018-07-27", "2018-08-31",
                       
                       "2018-05-29", "2018-06-20", "2018-08-15")),
  flag = c(0, 0, 1, 
           1, 1, 1,
           0, 0, 1, 
           1, 0, 1)
)

# Merge start and end dates into durations.
mdfr <- melt(dfr, measure.vars = c("start.date", "end.date"))

p <- ggplot(dfr) +
      geom_linerange(aes(y = name, 
                         xmin = start.date,
                         xmax = end.date,
                         colour = as.factor(flag)),
                     size = I(5)) +
      theme_minimal()


ggplotly(p)
```

<div class="plotly html-widget html-fill-item" id="htmlwidget-a842daa9b7c196b25566" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-a842daa9b7c196b25566">{"x":{"data":[{"x":[17640.5,17635.5,17698.5,17726.5,17693.5],"y":[1,2,7,8,1],"text":["name: Write introduction<br />start.date: 17630<br />end.date: 17651<br />as.factor(flag): 0","name: Parse citation data<br />start.date: 17630<br />end.date: 17641<br />as.factor(flag): 0","name: Write results<br />start.date: 17686<br />end.date: 17711<br />as.factor(flag): 0","name: Write discussion<br />start.date: 17714<br />end.date: 17739<br />as.factor(flag): 0","name: Write introduction<br />start.date: 17685<br />end.date: 17702<br />as.factor(flag): 0"],"type":"scatter","mode":"lines","opacity":1,"line":{"color":"transparent"},"error_x":{"array":[10.5,5.5,12.5,12.5,8.5],"arrayminus":[10.5,5.5,12.5,12.5,8.5],"type":"data","width":0,"symmetric":false,"color":"rgba(248,118,109,1)"},"name":"0","legendgroup":"0","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[17653,17667,17653,17677.5,17758,17673,17747.5],"y":[3,4,5,6,9,1,7],"text":["name: Construct data timeline<br />start.date: 17637<br />end.date: 17669<br />as.factor(flag): 1","name: Write methods<br />start.date: 17651<br />end.date: 17683<br />as.factor(flag): 1","name: Model formulation<br />start.date: 17637<br />end.date: 17669<br />as.factor(flag): 1","name: Model selection<br />start.date: 17672<br />end.date: 17683<br />as.factor(flag): 1","name: Write abstract and editing<br />start.date: 17742<br />end.date: 17774<br />as.factor(flag): 1","name: Write introduction<br />start.date: 17666<br />end.date: 17680<br />as.factor(flag): 1","name: Write results<br />start.date: 17737<br />end.date: 17758<br />as.factor(flag): 1"],"type":"scatter","mode":"lines","opacity":1,"line":{"color":"transparent"},"error_x":{"array":[16,16,16,5.5,16,7,10.5],"arrayminus":[16,16,16,5.5,16,7,10.5],"type":"data","width":0,"symmetric":false,"color":"rgba(0,191,196,1)"},"name":"1","legendgroup":"1","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.228310502283104,"r":7.3059360730593621,"b":25.570776255707766,"l":177.53424657534251},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[17622.799999999999,17781.200000000001],"tickmode":"array","ticktext":["17660","17700","17740","17780"],"tickvals":[17660,17700,17740,17780],"categoryorder":"array","categoryarray":["17660","17700","17740","17780"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,9.5999999999999996],"tickmode":"array","ticktext":["Write introduction","Parse citation data","Construct data timeline","Write methods","Model formulation","Model selection","Write results","Write discussion","Write abstract and editing"],"tickvals":[1,2,3,4,5,6,6.9999999999999991,8,9],"categoryorder":"array","categoryarray":["Write introduction","Parse citation data","Construct data timeline","Write methods","Model formulation","Model selection","Write results","Write discussion","Write abstract and editing"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"name","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"as.factor(flag)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"3cf647b3b3bd":{"y":{},"xmin":{},"xmax":{},"colour":{},"type":"scatter"}},"cur_data":"3cf647b3b3bd","visdat":{"3cf647b3b3bd":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>




### What About Dash?

[Dash for R](https://dashr.plot.ly/) is an open-source framework for building analytical applications, with no Javascript required, and it is tightly integrated with the Plotly graphing library. 

Learn about how to install Dash for R at https://dashr.plot.ly/installation.

Everywhere in this page that you see `fig`, you can display the same figure in a Dash for R application by passing it to the `figure` argument of the [`Graph` component](https://dashr.plot.ly/dash-core-components/graph) from the built-in `dashCoreComponents` package like this:


``` r
library(plotly)

fig <- plot_ly() 
# fig <- fig %>% add_trace( ... )
# fig <- fig %>% layout( ... ) 

library(dash)
library(dashCoreComponents)
library(dashHtmlComponents)

app <- Dash$new()
app$layout(
    htmlDiv(
        list(
            dccGraph(figure=fig) 
        )
     )
)

app$run_server(debug=TRUE, dev_tools_hot_reload=FALSE)
```
